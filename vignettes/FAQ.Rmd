---
title: "FAQ"
output: rmarkdown::html_vignette:
  toc: true
  toc_depth: 4  
vignette: >
  %\VignetteIndexEntry{FAQ}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

```{r, setup, include=FALSE}
knitr::opts_chunk$set(fig.width = 8, collapse = TRUE)
knitr::opts_knit$set(root.dir = here::here())
```

This is a living FAQ with everything to be aware of while running the fits. 


### 1. countrycode warnings

A number of countries are not in the `countrycode` database but we don't currently model these so this warning is fine:

```
Some values were not matched unambiguously: Channel Islands, Micronesia, Saint Martin, St. Barth
```

### 2. pars_init role

`pars_init.rds` in the `lmic_reports_vaccine` task contains for each country:

1. Initial conditions for each country that should provide the best fit from the last model run

All the named parameters from `start_date` to `Rt_rw_xx` are the parameters that are
being changed during the fitting.

2. The scaling factor and covariance matrix for the parameters used as part of the fitting

These two are the final values from the end of the mcmc chain and are stored here as they
are used to initialise each run. This helps ensure that the mcmc chain can pick up where it
left off when being rerun and should improve fitting speed dramatically as a result.

3. Few other parameters specific to each country used in creation of Rt trend 

These include: `date_Meff_change`, `Rt_shift_duration`, `Rt_shift_scale` and `Rt_rw_duration`. `date_Meff_change` are specific to each country and was previously estimated to be the rough date that mobility starts to increase again in each country. This determines when `Meff_pl` is used for calculating Rt. `Rt_rw_duration` specifies the length of the random walk parameters - this must stay as 14 to ensure that the fitted `Rt_rw_xx` parameters are correct, i.e. these are estimated assuming a 14 day random walk. `Rt_shift_duration`and `Rt_shift_scale` are parameters that were previously used in creating a one time shift in Rt after mobility started increasing, however, in the `lmic_reports_vaccine` script these are bounded so that the shift ~ 0 and so have no impact on the fitting, so ignore these.

### 3. mcmc process

### 4. atol and rtol

### 5. countries file

### 6. mcmc chain length

### 7. elongated summers

### 8. complete reintroduction handling 

### 9. splines vs mobility

### 10. github file size issue for the combined zip will soon need to be split into two...

### 11. where to put old runs when github runs out of space:

Ask Wes. https://mrcdata.dide.ic.ac.uk/global-lmic-reports/

### 12. Staging site

Lastly we also have a staging site, so if you ever want to check that the pages etc look okay 
then set the remote to there and push to there. You may have to the set the remote to there and push to there
N.B. The hyperlinks in the page build refer to the main site but the URLs are correct so you can check an individual page by going to the URL.
# git remote set-url origin git@github.com:mrc-ide/global-lmic-reports-staging.git



